var globalSideVariables={spritePatrulleroLivianoU:null,spritePatrulleroLivianoD:null,spritePatrulleroLivianoL:null,spritePatrulleroLivianoR:null,spritePatrulleroLivianoUL:null,spritePatrulleroLivianoUR:null,spritePatrulleroLivianoDL:null,spritePatrulleroLivianoDR:null,spritePatrulleroPesadoU:null,spritePatrulleroPesadoD:null,spritePatrulleroPesadoL:null,spritePatrulleroPesadoR:null,spritePatrulleroPesadoUL:null,spritePatrulleroPesadoUR:null,spritePatrulleroPesadoDL:null,spritePatrulleroPesadoDR:null,spritePesqueroLivianoU:null,spritePesqueroLivianoD:null,spritePesqueroLivianoL:null,spritePesqueroLivianoR:null,spritePesqueroLivianoUL:null,spritePesqueroLivianoUR:null,spritePesqueroLivianoDL:null,spritePesqueroLivianoDR:null,spritePesqueroPesadoU:null,spritePesqueroPesadoD:null,spritePesqueroPesadoL:null,spritePesqueroPesadoR:null,spritePesqueroPesadoUL:null,spritePesqueroPesadoUR:null,spritePesqueroPesadoDL:null,spritePesqueroPesadoDR:null,spriteHelicopteroU:null,spriteHelicopteroD:null,spriteHelicopteroL:null,spriteHelicopteroR:null,spriteHelicopteroUL:null,spriteHelicopteroUR:null,spriteHelicopteroDL:null,spriteHelicopteroDR:null,spriteBoteU:null,spriteBoteD:null,spriteBoteL:null,spriteBoteR:null,spriteBoteUL:null,spriteBoteUR:null,spriteBoteDL:null,spriteBoteDR:null,spotlight:null,particlesExplosion:null,particlesShot:null,particlesRain:null},vehiculosSideView={Pesqueros:{Barcos:[]},Patrulleros:{Barcos:[]},Helicoptero:null,Bote:null},SideViewState=new Phaser.Class({Extends:Phaser.Scene,initialize:function(){Phaser.Scene.call(this,{key:"SideView"})},preload:function(){this.load.image("sideWater","assets/side/sidewater.png"),this.load.image("maskSide","assets/side/maskSide.png"),this.load.image("patrulleroLivianoU","assets/side/patrulleroLivianoU.png"),this.load.image("patrulleroLivianoD","assets/side/patrulleroLivianoD.png"),this.load.image("patrulleroLivianoL","assets/side/patrulleroLivianoL.png"),this.load.image("patrulleroLivianoR","assets/side/patrulleroLivianoR.png"),this.load.image("patrulleroLivianoUL","assets/side/patrulleroLivianoUL.png"),this.load.image("patrulleroLivianoUR","assets/side/patrulleroLivianoUR.png"),this.load.image("patrulleroLivianoDL","assets/side/patrulleroLivianoDL.png"),this.load.image("patrulleroLivianoDR","assets/side/patrulleroLivianoDR.png"),this.load.image("patrulleroPesadoU","assets/side/patrulleroPesadoU.png"),this.load.image("patrulleroPesadoD","assets/side/patrulleroPesadoD.png"),this.load.image("patrulleroPesadoL","assets/side/patrulleroPesadoL.png"),this.load.image("patrulleroPesadoR","assets/side/patrulleroPesadoR.png"),this.load.image("patrulleroPesadoUL","assets/side/patrulleroPesadoUL.png"),this.load.image("patrulleroPesadoUR","assets/side/patrulleroPesadoUR.png"),this.load.image("patrulleroPesadoDL","assets/side/patrulleroPesadoDL.png"),this.load.image("patrulleroPesadoDR","assets/side/patrulleroPesadoDR.png"),this.load.image("pesqueroLivianoU","assets/side/pesqueroLivianoU.png"),this.load.image("pesqueroLivianoD","assets/side/pesqueroLivianoD.png"),this.load.image("pesqueroLivianoL","assets/side/pesqueroLivianoL.png"),this.load.image("pesqueroLivianoR","assets/side/pesqueroLivianoR.png"),this.load.image("pesqueroLivianoUL","assets/side/pesqueroLivianoUL.png"),this.load.image("pesqueroLivianoUR","assets/side/pesqueroLivianoUR.png"),this.load.image("pesqueroLivianoDL","assets/side/pesqueroLivianoDL.png"),this.load.image("pesqueroLivianoDR","assets/side/pesqueroLivianoDR.png"),this.load.image("pesqueroPesadoU","assets/side/pesqueroPesadoU.png"),this.load.image("pesqueroPesadoD","assets/side/pesqueroPesadoD.png"),this.load.image("pesqueroPesadoL","assets/side/pesqueroPesadoL.png"),this.load.image("pesqueroPesadoR","assets/side/pesqueroPesadoR.png"),this.load.image("pesqueroPesadoUL","assets/side/pesqueroPesadoUL.png"),this.load.image("pesqueroPesadoUR","assets/side/pesqueroPesadoUR.png"),this.load.image("pesqueroPesadoDL","assets/side/pesqueroPesadoDL.png"),this.load.image("pesqueroPesadoDR","assets/side/pesqueroPesadoDR.png"),this.load.image("heliSideU","assets/side/patrulleroHelicopteroU.png"),this.load.image("heliSideD","assets/side/patrulleroHelicopteroD.png"),this.load.image("heliSideL","assets/side/patrulleroHelicopteroL.png"),this.load.image("heliSideR","assets/side/patrulleroHelicopteroR.png"),this.load.image("heliSideUL","assets/side/patrulleroHelicopteroUL.png"),this.load.image("heliSideUR","assets/side/patrulleroHelicopteroUR.png"),this.load.image("heliSideDL","assets/side/patrulleroHelicopteroDL.png"),this.load.image("heliSideDR","assets/side/patrulleroHelicopteroDR.png"),this.load.image("boatSideU","assets/side/patrulleroBoteU.png"),this.load.image("boatSideD","assets/side/patrulleroBoteD.png"),this.load.image("boatSideL","assets/side/patrulleroBoteL.png"),this.load.image("boatSideR","assets/side/patrulleroBoteR.png"),this.load.image("boatSideUL","assets/side/patrulleroBoteUL.png"),this.load.image("boatSideUR","assets/side/patrulleroBoteUR.png"),this.load.image("boatSideDL","assets/side/patrulleroBoteDL.png"),this.load.image("boatSideDR","assets/side/patrulleroBoteDR.png")},create:function(){this.matter.world.setBounds(0,651,1200,801);this.add.image(597,725,"sideWater");globalSideVariables.spotlight=this.make.sprite({x:200,y:700,key:"maskSide",add:!1}),globalSideVariables.spritePatrulleroLivianoU=this.matter.add.image(200,700,"patrulleroLivianoU"),globalSideVariables.spritePatrulleroLivianoD=this.matter.add.image(200,700,"patrulleroLivianoD"),globalSideVariables.spritePatrulleroLivianoL=this.matter.add.image(200,700,"patrulleroLivianoL"),globalSideVariables.spritePatrulleroLivianoR=this.matter.add.image(200,700,"patrulleroLivianoR"),globalSideVariables.spritePatrulleroLivianoUL=this.matter.add.image(200,700,"patrulleroLivianoUL"),globalSideVariables.spritePatrulleroLivianoUR=this.matter.add.image(200,700,"patrulleroLivianoUR"),globalSideVariables.spritePatrulleroLivianoDL=this.matter.add.image(200,700,"patrulleroLivianoDL"),globalSideVariables.spritePatrulleroLivianoDR=this.matter.add.image(200,700,"patrulleroLivianoDR"),globalSideVariables.spritePatrulleroLivianoU.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroLivianoD.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroLivianoL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroLivianoR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroLivianoUL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroLivianoUR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroLivianoDL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroLivianoDR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroLivianoU.setVisible(!1),globalSideVariables.spritePatrulleroLivianoD.setVisible(!1),globalSideVariables.spritePatrulleroLivianoL.setVisible(!1),globalSideVariables.spritePatrulleroLivianoR.setVisible(!1),globalSideVariables.spritePatrulleroLivianoUL.setVisible(!1),globalSideVariables.spritePatrulleroLivianoUR.setVisible(!1),globalSideVariables.spritePatrulleroLivianoDL.setVisible(!1),globalSideVariables.spritePatrulleroLivianoDR.setVisible(!1),globalSideVariables.spritePatrulleroPesadoU=this.matter.add.image(1e3,300,"patrulleroPesadoU"),globalSideVariables.spritePatrulleroPesadoD=this.matter.add.image(1e3,300,"patrulleroPesadoD"),globalSideVariables.spritePatrulleroPesadoL=this.matter.add.image(1e3,300,"patrulleroPesadoL"),globalSideVariables.spritePatrulleroPesadoR=this.matter.add.image(1e3,300,"patrulleroPesadoR"),globalSideVariables.spritePatrulleroPesadoUL=this.matter.add.image(1e3,300,"patrulleroPesadoUL"),globalSideVariables.spritePatrulleroPesadoUR=this.matter.add.image(1e3,300,"patrulleroPesadoUR"),globalSideVariables.spritePatrulleroPesadoDL=this.matter.add.image(1e3,300,"patrulleroPesadoDL"),globalSideVariables.spritePatrulleroPesadoDR=this.matter.add.image(1e3,300,"patrulleroPesadoDR"),globalSideVariables.spritePatrulleroPesadoU.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroPesadoD.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroPesadoL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroPesadoR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroPesadoUL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroPesadoUR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroPesadoDL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroPesadoDR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePatrulleroPesadoU.setVisible(!1),globalSideVariables.spritePatrulleroPesadoD.setVisible(!1),globalSideVariables.spritePatrulleroPesadoL.setVisible(!1),globalSideVariables.spritePatrulleroPesadoR.setVisible(!1),globalSideVariables.spritePatrulleroPesadoUL.setVisible(!1),globalSideVariables.spritePatrulleroPesadoUR.setVisible(!1),globalSideVariables.spritePatrulleroPesadoDL.setVisible(!1),globalSideVariables.spritePatrulleroPesadoDR.setVisible(!1),globalSideVariables.spriteHelicopteroU=this.matter.add.image(1e3,300,"heliSideU"),globalSideVariables.spriteHelicopteroD=this.matter.add.image(1e3,300,"heliSideD"),globalSideVariables.spriteHelicopteroL=this.matter.add.image(1e3,300,"heliSideL"),globalSideVariables.spriteHelicopteroR=this.matter.add.image(1e3,300,"heliSideR"),globalSideVariables.spriteHelicopteroUL=this.matter.add.image(1e3,300,"heliSideUL"),globalSideVariables.spriteHelicopteroUR=this.matter.add.image(1e3,300,"heliSideUR"),globalSideVariables.spriteHelicopteroDL=this.matter.add.image(1e3,300,"heliSideDL"),globalSideVariables.spriteHelicopteroDR=this.matter.add.image(1e3,300,"heliSideDR"),globalSideVariables.spriteHelicopteroU.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteHelicopteroD.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteHelicopteroL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteHelicopteroR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteHelicopteroUL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteHelicopteroUR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteHelicopteroDL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteHelicopteroDR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteHelicopteroU.setVisible(!1),globalSideVariables.spriteHelicopteroD.setVisible(!1),globalSideVariables.spriteHelicopteroL.setVisible(!1),globalSideVariables.spriteHelicopteroR.setVisible(!1),globalSideVariables.spriteHelicopteroUL.setVisible(!1),globalSideVariables.spriteHelicopteroUR.setVisible(!1),globalSideVariables.spriteHelicopteroDL.setVisible(!1),globalSideVariables.spriteHelicopteroDR.setVisible(!1),globalSideVariables.spriteBoteU=this.matter.add.image(1e3,300,"boatSideU"),globalSideVariables.spriteBoteD=this.matter.add.image(1e3,300,"boatSideD"),globalSideVariables.spriteBoteL=this.matter.add.image(1e3,300,"boatSideL"),globalSideVariables.spriteBoteR=this.matter.add.image(1e3,300,"boatSideR"),globalSideVariables.spriteBoteUL=this.matter.add.image(1e3,300,"boatSideUL"),globalSideVariables.spriteBoteUR=this.matter.add.image(1e3,300,"boatSideUR"),globalSideVariables.spriteBoteDL=this.matter.add.image(1e3,300,"boatSideDL"),globalSideVariables.spriteBoteDR=this.matter.add.image(1e3,300,"boatSideDR"),globalSideVariables.spriteBoteU.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteBoteD.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteBoteL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteBoteR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteBoteUL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteBoteUR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteBoteDL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteBoteDR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spriteBoteU.setVisible(!1),globalSideVariables.spriteBoteD.setVisible(!1),globalSideVariables.spriteBoteL.setVisible(!1),globalSideVariables.spriteBoteR.setVisible(!1),globalSideVariables.spriteBoteUL.setVisible(!1),globalSideVariables.spriteBoteUR.setVisible(!1),globalSideVariables.spriteBoteDL.setVisible(!1),globalSideVariables.spriteBoteDR.setVisible(!1),globalSideVariables.spritePesqueroLivianoU=this.matter.add.image(400,50,"pesqueroLivianoU"),globalSideVariables.spritePesqueroLivianoD=this.matter.add.image(400,50,"pesqueroLivianoD"),globalSideVariables.spritePesqueroLivianoL=this.matter.add.image(400,50,"pesqueroLivianoL"),globalSideVariables.spritePesqueroLivianoR=this.matter.add.image(400,50,"pesqueroLivianoR"),globalSideVariables.spritePesqueroLivianoUL=this.matter.add.image(400,50,"pesqueroLivianoUL"),globalSideVariables.spritePesqueroLivianoUR=this.matter.add.image(400,50,"pesqueroLivianoUR"),globalSideVariables.spritePesqueroLivianoDL=this.matter.add.image(400,50,"pesqueroLivianoDL"),globalSideVariables.spritePesqueroLivianoDR=this.matter.add.image(400,50,"pesqueroLivianoDR"),globalSideVariables.spritePesqueroLivianoU.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroLivianoD.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroLivianoL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroLivianoR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroLivianoUL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroLivianoUR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroLivianoDL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroLivianoDR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroLivianoU.setVisible(!1),globalSideVariables.spritePesqueroLivianoD.setVisible(!1),globalSideVariables.spritePesqueroLivianoL.setVisible(!1),globalSideVariables.spritePesqueroLivianoR.setVisible(!1),globalSideVariables.spritePesqueroLivianoUL.setVisible(!1),globalSideVariables.spritePesqueroLivianoUR.setVisible(!1),globalSideVariables.spritePesqueroLivianoDL.setVisible(!1),globalSideVariables.spritePesqueroLivianoDR.setVisible(!1),globalSideVariables.spritePesqueroPesadoU=this.matter.add.image(800,50,"pesqueroPesadoU"),globalSideVariables.spritePesqueroPesadoD=this.matter.add.image(800,50,"pesqueroPesadoD"),globalSideVariables.spritePesqueroPesadoL=this.matter.add.image(800,50,"pesqueroPesadoL"),globalSideVariables.spritePesqueroPesadoR=this.matter.add.image(800,50,"pesqueroPesadoR"),globalSideVariables.spritePesqueroPesadoUL=this.matter.add.image(800,50,"pesqueroPesadoUL"),globalSideVariables.spritePesqueroPesadoUR=this.matter.add.image(800,50,"pesqueroPesadoUR"),globalSideVariables.spritePesqueroPesadoDL=this.matter.add.image(800,50,"pesqueroPesadoDL"),globalSideVariables.spritePesqueroPesadoDR=this.matter.add.image(800,50,"pesqueroPesadoDR"),globalSideVariables.spritePesqueroPesadoU.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroPesadoD.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroPesadoL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroPesadoR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroPesadoUL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroPesadoUR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroPesadoDL.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroPesadoDR.mask=new Phaser.Display.Masks.BitmapMask(this,globalSideVariables.spotlight),globalSideVariables.spritePesqueroPesadoU.setVisible(!1),globalSideVariables.spritePesqueroPesadoD.setVisible(!1),globalSideVariables.spritePesqueroPesadoL.setVisible(!1),globalSideVariables.spritePesqueroPesadoR.setVisible(!1),globalSideVariables.spritePesqueroPesadoUL.setVisible(!1),globalSideVariables.spritePesqueroPesadoUR.setVisible(!1),globalSideVariables.spritePesqueroPesadoDL.setVisible(!1),globalSideVariables.spritePesqueroPesadoDR.setVisible(!1);var e={id:3,tipo:"Patrullero",categoria:"Liviano",sprite:globalSideVariables.spritePatrulleroLivianoU,orientacion:null},i={id:4,tipo:"Patrullero",categoria:"Pesado",sprite:globalSideVariables.spritePatrulleroPesadoU,orientacion:null},a={id:1,tipo:"Pesquero",categoria:"Liviano",sprite:globalSideVariables.spritePesqueroLivianoU,orientacion:null,hundido:!1},s={id:2,tipo:"Pesquero",categoria:"Pesado",sprite:globalSideVariables.spritePesqueroPesadoU,orientacion:null,hundido:!1},l={id:5,tipo:"Patrullero",categoria:"H",sprite:globalSideVariables.spriteHelicopteroU,orientacion:null},r={id:6,tipo:"Patrullero",categoria:"B",sprite:globalSideVariables.spriteBoteU,orientacion:null};vehiculosSideView.Patrulleros.Barcos.push(e),vehiculosSideView.Patrulleros.Barcos.push(i),vehiculosSideView.Pesqueros.Barcos.push(a),vehiculosSideView.Pesqueros.Barcos.push(s),vehiculosSideView.Helicoptero=l,vehiculosSideView.Bote=r,globalSideVariables.particlesRain=this.add.particles("flares"),globalSideVariables.particlesExplosion=this.add.particles("fire"),globalSideVariables.particlesShot=this.add.particles("flares"),console.log("create success")},update:function(){partida.Patrulleros.Barcos.forEach(function(e){var i=vehiculosSideView.Patrulleros.Barcos.find(function(i){return i.id==e.id});definirOrientacionVehiculo(i,e),asignarImagenSprite(i),setMovementAndSize(i,e),"Patrullero"==globalDroneVariables.equipo&&e.activo&&(globalSideVariables.spotlight.x=i.sprite.x,globalSideVariables.spotlight.y=i.sprite.y)}),partida.Pesqueros.Barcos.forEach(function(e){var i=vehiculosSideView.Pesqueros.Barcos.find(function(i){return i.id==e.id});if(null!==i){if(globalDroneVariables.flagMostrarDisparo){var a=vehiculosSideView.Patrulleros.Barcos.find(function(e){return e.id==globalDroneVariables.patrulleroDispara.id}),s=vehiculosSideView.Pesqueros.Barcos.find(function(e){return e.id==globalDroneVariables.barcoImpactadoDisparo.id});mostrarDisparo(a.sprite,s.sprite,globalDroneVariables.nivelDanioDisparo/133),mostrarExplosion(s.sprite,globalDroneVariables.nivelDanioDisparo),globalDroneVariables.flagMostrarDisparo=!1}if(i.hundido=e.hundido,i.hundido){i.sprite.setVisible(!1),i.sprite.x=1300;var l=vehiculosSideView.Pesqueros.Barcos.find(function(e){return e.id!=i.id});globalSideVariables.spotlight.x=l.sprite.x,globalSideVariables.spotlight.y=l.sprite.y}else if(e.capturado){var r=vehiculosSideView.Pesqueros.Barcos.find(function(i){return i.id!=e.id});globalSideVariables.spotlight.x=r.sprite.x,globalSideVariables.spotlight.y=r.sprite.y}else definirOrientacionVehiculo(i,e),asignarImagenSprite(i),setMovementAndSize(i,e),"Pesquero"==globalDroneVariables.equipo&&e.activo&&(globalSideVariables.spotlight.x=i.sprite.x,globalSideVariables.spotlight.y=i.sprite.y)}}),definirOrientacionVehiculo(vehiculosSideView.Helicoptero,partida.Patrulleros.Barcos[1].helicoptero),asignarImagenSprite(vehiculosSideView.Helicoptero),vehiculosSideView.Helicoptero.sprite.x=partida.Patrulleros.Barcos[1].helicoptero.sprite.x,vehiculosSideView.Helicoptero.sprite.y=getSideHelicopterY(partida.Patrulleros.Barcos[1].helicoptero.sprite.y),vehiculosSideView.Helicoptero.sprite.setScale(scaleVehicule(vehiculosSideView.Helicoptero.sprite)),"Patrullero"==globalDroneVariables.equipo&&partida.Patrulleros.Barcos[1].helicoptero.activo&&(globalSideVariables.spotlight.x=vehiculosSideView.Helicoptero.sprite.x,globalSideVariables.spotlight.y=vehiculosSideView.Helicoptero.sprite.y),definirOrientacionVehiculo(vehiculosSideView.Bote,partida.Patrulleros.Barcos[1].bote),asignarImagenSprite(vehiculosSideView.Bote),vehiculosSideView.Bote.sprite.x=partida.Patrulleros.Barcos[1].bote.sprite.x,vehiculosSideView.Bote.sprite.y=getSideY(partida.Patrulleros.Barcos[1].bote.sprite.y),vehiculosSideView.Bote.sprite.setScale(scaleVehicule(vehiculosSideView.Bote.sprite)),"Patrullero"==globalDroneVariables.equipo&&partida.Patrulleros.Barcos[1].bote.activo&&(globalSideVariables.spotlight.x=vehiculosSideView.Bote.sprite.x,globalSideVariables.spotlight.y=vehiculosSideView.Bote.sprite.y),partida.hayTormenta&&mostrarLluvia()}});function getSideY(e){return e/8.125+700}function getSideHelicopterY(e){return e/(650/120)+661}function scaleVehicule(e){var i=1*(e.y-650)/120*1;return i<.2&&(i=.2),i}function definirOrientacionVehiculo(e,i){i.sprite.rotation>=-.4&&i.sprite.rotation<.4?e.orientacion="R":i.sprite.rotation>=.4&&i.sprite.rotation<1.2?e.orientacion="DR":i.sprite.rotation>=1.2&&i.sprite.rotation<2?e.orientacion="D":i.sprite.rotation>=2&&i.sprite.rotation<2.8?e.orientacion="DL":i.sprite.rotation>=2.8||i.sprite.rotation<-2.7?e.orientacion="L":i.sprite.rotation>=-2.7&&i.sprite.rotation<-1.9?e.orientacion="UL":i.sprite.rotation>=-1.9&&i.sprite.rotation<-1.1?e.orientacion="U":i.sprite.rotation>=-1.1&&i.sprite.rotation<-.4&&(e.orientacion="UR")}function setMovementAndSize(e,i){e.sprite.x=i.sprite.x,e.sprite.y=getSideY(i.sprite.y),e.sprite.setScale(scaleVehicule(e.sprite))}function asignarImagenSprite(e){var i=e.sprite.x,a=e.sprite.y;e.sprite.setVisible(!1),e.sprite.x=1300,"Patrullero"==e.tipo?"Liviano"==e.categoria?"R"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroLivianoR:"DR"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroLivianoDR:"D"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroLivianoD:"DL"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroLivianoDL:"L"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroLivianoL:"UL"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroLivianoUL:"U"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroLivianoU:"UR"==e.orientacion&&(e.sprite=globalSideVariables.spritePatrulleroLivianoUR):"Pesado"==e.categoria?"R"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroPesadoR:"DR"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroPesadoDR:"D"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroPesadoD:"DL"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroPesadoDL:"L"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroPesadoL:"UL"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroPesadoUL:"U"==e.orientacion?e.sprite=globalSideVariables.spritePatrulleroPesadoU:"UR"==e.orientacion&&(e.sprite=globalSideVariables.spritePatrulleroPesadoUR):"H"==e.categoria?"R"==e.orientacion?e.sprite=globalSideVariables.spriteHelicopteroR:"DR"==e.orientacion?e.sprite=globalSideVariables.spriteHelicopteroDR:"D"==e.orientacion?e.sprite=globalSideVariables.spriteHelicopteroD:"DL"==e.orientacion?e.sprite=globalSideVariables.spriteHelicopteroDL:"L"==e.orientacion?e.sprite=globalSideVariables.spriteHelicopteroL:"UL"==e.orientacion?e.sprite=globalSideVariables.spriteHelicopteroUL:"U"==e.orientacion?e.sprite=globalSideVariables.spriteHelicopteroU:"UR"==e.orientacion&&(e.sprite=globalSideVariables.spriteHelicopteroUR):"B"==e.categoria&&("R"==e.orientacion?e.sprite=globalSideVariables.spriteBoteR:"DR"==e.orientacion?e.sprite=globalSideVariables.spriteBoteDR:"D"==e.orientacion?e.sprite=globalSideVariables.spriteBoteD:"DL"==e.orientacion?e.sprite=globalSideVariables.spriteBoteDL:"L"==e.orientacion?e.sprite=globalSideVariables.spriteBoteL:"UL"==e.orientacion?e.sprite=globalSideVariables.spriteBoteUL:"U"==e.orientacion?e.sprite=globalSideVariables.spriteBoteU:"UR"==e.orientacion&&(e.sprite=globalSideVariables.spriteBoteUR)):"Liviano"==e.categoria?"R"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroLivianoR:"DR"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroLivianoDR:"D"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroLivianoD:"DL"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroLivianoDL:"L"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroLivianoL:"UL"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroLivianoUL:"U"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroLivianoU:"UR"==e.orientacion&&(e.sprite=globalSideVariables.spritePesqueroLivianoUR):"Pesado"==e.categoria&&("R"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroPesadoR:"DR"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroPesadoDR:"D"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroPesadoD:"DL"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroPesadoDL:"L"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroPesadoL:"UL"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroPesadoUL:"U"==e.orientacion?e.sprite=globalSideVariables.spritePesqueroPesadoU:"UR"==e.orientacion&&(e.sprite=globalSideVariables.spritePesqueroPesadoUR)),e.sprite.x=i,e.sprite.y=a,e.sprite.setVisible(!0)}function mostrarLluvia(){globalSideVariables.particlesRain.createEmitter({frame:"blue",x:{min:0,max:1200},y:0,lifespan:1e3,speedY:800,scaleY:.5,scaleX:.01,quantity:10,blendMode:"ADD",maxParticles:5})}function mostrarExplosion(e,i){globalSideVariables.particlesExplosion.createEmitter({alpha:{start:1,end:0},scale:{start:i/60,end:i/30},tint:{start:16749662,end:16749662},speed:50,accelerationY:-10,angle:{min:-85,max:-95},rotate:{min:-180,max:180},lifespan:{min:1e3,max:1050},blendMode:"ADD",frequency:50,maxParticles:3,x:e.x,y:e.y})}function mostrarDisparo(e,i,a){globalSideVariables.particlesShot.createEmitter({frame:"yellow",x:e.x,y:e.y,lifespan:200,speed:{min:400,max:600},angle:Phaser.Math.RAD_TO_DEG*Phaser.Math.Angle.Between(e.x,e.y,i.x,i.y),gravityY:0,scale:{start:a,end:0},quantity:2,blendMode:"ADD",maxParticles:10})}myGame.scenes.push(SideViewState);